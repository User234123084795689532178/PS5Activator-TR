<!DOCTYPE html>
<!-- Created with https://studio.penguinmod.com/PenguinMod-Packager/ -->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- We only include this to explicitly loosen the CSP of various packager environments. It does not provide any security. -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: blob:">
  <title>Project</title>
  <style>
    body {
      color: #ffffff;
      font-family: sans-serif;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    :root, body.is-fullscreen {
      background-color: #000000;
    }
    [hidden] {
      display: none !important;
    }
    h1 {
      font-weight: normal;
    }
    a {
      color: inherit;
      text-decoration: underline;
      cursor: pointer;
    }

    #app, #loading, #error, #launch {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: default;
      user-select: none;
      -webkit-user-select: none;
      background-color: #000000;
    }
    #launch {
      background-color: rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .green-flag {
      width: 80px;
      height: 80px;
      padding: 16px;
      border-radius: 100%;
      background: rgba(255, 255, 255, 0.75);
      border: 3px solid hsla(0, 100%, 100%, 1);
      display: flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
    }
    #loading {
      
    }
    .progress-bar-outer {
      border: 1px solid currentColor;
      height: 10px;
      width: 200px;
      max-width: 200px;
    }
    .progress-bar-inner {
      height: 100%;
      width: 0;
      background-color: currentColor;
    }
    .loading-text, noscript {
      font-weight: normal;
      font-size: 36px;
      margin: 0 0 16px;
    }
    .loading-image {
      margin: 0 0 16px;
    }
    #error-message, #error-stack {
      font-family: monospace;
      max-width: 600px;
      white-space: pre-wrap;
      user-select: text;
      -webkit-user-select: text;
    }
    #error-stack {
      text-align: left;
      max-height: 200px;
      overflow: auto;
    }
    
    
    .sc-canvas {
      cursor: auto;
    }
    .sc-monitor-root[data-opcode^="data_"] .sc-monitor-value-color {
      background-color: #ff8c1a;
    }
    .sc-monitor-row-value-outer {
      background-color: #fc662c;
    }
    .sc-monitor-row-value-editing .sc-monitor-row-value-outer {
      background-color: #e25b27;
    }
    
  </style>
  <meta name="theme-color" content="#000000">
  
</head>
<body>
  <div id="app"></div>

  <div id="launch" class="screen" hidden title="Click to start">
    <div class="green-flag">
      <svg viewBox="0 0 16.63 17.5" width="42" height="44">
        <defs><style>.cls-1,.cls-2{fill:#007AF4;stroke:#003080;stroke-linecap:round;stroke-linejoin:round;}.cls-2{stroke-width:1.5px;}</style></defs>
        <path class="cls-1" d="M.75,2A6.44,6.44,0,0,1,8.44,2h0a6.44,6.44,0,0,0,7.69,0V12.4a6.44,6.44,0,0,1-7.69,0h0a6.44,6.44,0,0,0-7.69,0"/>
        <line class="cls-2" x1="0.75" y1="16.75" x2="0.75" y2="0.75"/>
      </svg>
    </div>
  </div>

  <div id="loading" class="screen">
    <noscript>Enable JavaScript</noscript>
    
    
    <div class="progress-bar-outer"><div class="progress-bar-inner" id="loading-inner"></div></div>
  </div>

  <div id="error" class="screen" hidden>
    <h1>Error</h1>
    <details>
      <summary id="error-message"></summary>
      <p id="error-stack"></p>
    </details>
  </div>

  <script src="script.js"></script>
  <script>
    const appElement = document.getElementById('app');
    const launchScreen = document.getElementById('launch');
    const loadingScreen = document.getElementById('loading');
    const loadingInner = document.getElementById('loading-inner');
    const errorScreen = document.getElementById('error');
    const errorScreenMessage = document.getElementById('error-message');
    const errorScreenStack = document.getElementById('error-stack');

    const handleError = (error) => {
      console.error(error);
      if (!errorScreen.hidden) return;
      errorScreen.hidden = false;
      errorScreenMessage.textContent = '' + error;
      let debug = error && error.stack || 'no stack';
      debug += '\nUser agent: ' + navigator.userAgent;
      errorScreenStack.textContent = debug;
    };
    const setProgress = (progress) => {
      if (loadingInner) loadingInner.style.width = progress * 100 + '%';
    };
    const interpolate = (a, b, t) => a + t * (b - a);

    try {
      setProgress(0.1);

      const scaffolding = new Scaffolding.Scaffolding();
      scaffolding.width = 480;
      scaffolding.height = 360;
      scaffolding.resizeMode = "preserve-ratio";
      scaffolding.editableLists = false;
      scaffolding.usePackagedRuntime = true;
      scaffolding.setup();
      scaffolding.appendTo(appElement);

      const vm = scaffolding.vm;
      window.scaffolding = scaffolding;
      window.vm = scaffolding.vm;
      window.Scratch = {
        vm,
        renderer: vm.renderer,
        audioEngine: vm.runtime.audioEngine,
        bitmapAdapter: vm.runtime.v2BitmapAdapter,
        videoProvider: vm.runtime.ioDevices.video.provider
      };

      vm.runtime.isPackagedProject = true;
      scaffolding.setUsername("player####".replace(/#/g, () => Math.floor(Math.random() * 10)));
      scaffolding.setAccentColor("#00c3ff");

      try {
        scaffolding.addCloudProvider(new Scaffolding.Cloud.WebSocketProvider(["wss://clouddata.turbowarp.org","wss://clouddata.turbowarp.xyz"], "p4-@Project.pmp"));
      } catch (error) {
        console.error(error);
      }

      vm.setTurboMode(false);
      if (vm.setInterpolation) vm.setInterpolation(false);
      if (vm.setFramerate) vm.setFramerate(30);
      if (vm.renderer.setUseHighQualityRender) vm.renderer.setUseHighQualityRender(false);
      if (vm.setRuntimeOptions) vm.setRuntimeOptions({
        fencing: true,
        miscLimits: true,
        maxClones: 300,
        dangerousOptimizations: false
      });
      if (vm.setCompilerOptions) vm.setCompilerOptions({
        enabled: true,
        warpTimer: false
      });
      if (vm.renderer.setMaxTextureDimension) vm.renderer.setMaxTextureDimension(2048);

      if (typeof ScaffoldingAddons !== 'undefined') {
        ScaffoldingAddons.run(scaffolding, {"gamepad":false,"pointerlock":false,"specialCloudBehaviors":false,"unsafeCloudBehaviors":false,"pause":false});
      }

      scaffolding.setExtensionSecurityManager({
        getSandboxMode: () => 'unsandboxed',
        canLoadExtensionFromProject: () => true
      });
      for (const extension of ["data:text/javascript;,(function(Scratch)%20%7B%20%2F%2F%20Name%3A%20Popup%20Phoenix%0A%2F%2F%20ID%3A%20SPpopups%0A%2F%2F%20Description%3A%20Create%20custom%20Popups.%20Inspired%20by%20'Better%20Input'.%0A%2F%2F%20By%3A%20SharkPool%0A%2F%2F%20Licence%3A%20MIT%0A%0A%2F%2F%20Version%20V.1.0.1%0A%0A(function%20(Scratch)%20%7B%0A%20%20%22use%20strict%22%3B%0A%20%20if%20(!Scratch.extensions.unsandboxed)%20throw%20new%20Error(%22Popup%20Phoenix%20must%20run%20unsandboxed!%22)%3B%0A%0A%20%20const%20menuIconURI%20%3D%0A%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4Ny41MzIiIGhlaWdodD0iODcuNTMyIiB2aWV3Qm94PSIwIDAgODcuNTMyIDg3LjUzMiI%2BPGcgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiPjxwYXRoIGQ9Ik0uMDAxIDQzLjc2N0MuMDAxIDE5LjU5NSAxOS41OTQuMDAxIDQzLjc2Ni4wMDFzNDMuNzY2IDE5LjU5NCA0My43NjYgNDMuNzY2LTE5LjU5NCA0My43NjYtNDMuNzY2IDQzLjc2NlMwIDY3LjkzOSAwIDQzLjc2NyIgZmlsbD0iIzgyMTliZiIvPjxwYXRoIGQ9Ik01LjE2NSA0My43NjdjMC0yMS4zMiAxNy4yODItMzguNjAyIDM4LjYwMi0zOC42MDJzMzguNjAyIDE3LjI4MiAzOC42MDIgMzguNjAyLTE3LjI4MiAzOC42MDItMzguNjAyIDM4LjYwMlM1LjE2NSA2NS4wODcgNS4xNjUgNDMuNzY3IiBmaWxsPSIjYTgxMmZmIi8%2BPHBhdGggZD0ibTQwLjM5NyA1OC4wODctMy44NS42MDctLjE4MSA0Ljg3LTMuMTYgMS44MjUtMS40NDQtNi4yMS00LjEzOS0yLjU1NiAxLjkwNC0zLjMzNCA0LjQ3NiAyLjAwOCA0LjQ3NS0xLjQ0MS0zLjM4NC00LjUyNi0yLjY4OSAyLjAwMS00LjkyNy0uODc0IDIuNDY1LTMuNTktOC40NjUgMi4yOTItMi41NTYtNC4wNDUgOC4wNi0xLjgyOC0xMC4wNjgtLjc2My0xLjg0Ni01LjQ1MSAxMC4yOTEgMS4yMjctMTAuMzYtMy45OC45Ny02Ljc3OCA5LjQ4MyA1LjkzNC04LjA3NS05Ljc0NSAzLjI5Ni01LjM1NiAxMi40MjYgMTQuODA4LS4zNzQgNy41OCA1LjMzOSAxLjAyMSA1LjM2NS0xMS4xOTggOC4wMDMgMS41ODQtLjI5IDQuMzk3LTIuODk5LTEuMDM1LS4yMzMgMy43MSAxLjgzNSAyLjU0MiA0Ljc1Ny0xLjEtLjE2Mi02LjY5NCA3LjAyMy03LjY2OCA1LjI5Ny03LjQwOCAzLjI3MiAzLjkzNS03LjgxMSAxMS4yNDcgOS4xNzUtNy4wNi4xODggNy40MzMtOS40MDEgNC4yNTEgMTAuMzUtMS41My0xLjYyMSA2LjAzLTEwLjEzMy4xNDkgOS4xMTUgMS41Ni0zLjkwNyA0Ljc0OC04LjktMi45MTYgMi4zNDggMy4zODctNC43MDMgMS41Mi0yLjI4LTIuMjIzLTMuNjc5IDQuOTU0IDQuMTQ3LjcwMiA1LjEwNy0yLjMgMS41NjUgMy44NC00LjMyMyAyLS45NzEgNi41MzgtMy41ODgtMS4xMzMuMDM5LTUuMDY1LTMuOTM3LS42MzMuNDMgMi43MDMgNC4zIDYuNTI4LTIuODMyIDMuMzQtMi45NzMtMy4wMjMuNzUgNS4zNy0zLjE5NyAyLjg5NC0yLjk0LTIuOTYuNTI2LTUuMjk3LTIuNzggMy4xNTUtMi41NjQtMy42NCA0LjM2OS02LjU2NHoiIGZpbGw9IiNmZmYiLz48L2c%2BPC9zdmc%2B%22%3B%0A%20%20const%20getBlockIcon%20%3D%20(name)%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20lower%20file%20size%20moment%0A%20%20%20%20const%20start%20%3D%20%22data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI%22%3B%0A%20%20%20%20return%20start%20%2B%20%7B%0A%20%20%20%20%20%20main%3A%20%223OS4xOTkiIGhlaWdodD0iODcuOTIyIiB2aWV3Qm94PSIwIDAgNzkuMTk5IDg3LjkyMiI%2BPHBhdGggZD0ibTI1LjkwMSA2NS41MDctNS4yNTUtLjA4Yy0xMS4wMy0uMDgtMTEuNzA3LS4wOC0xMi44ODktLjU5OC0uMzctLjE1Mi0yLjc1OC0yLjQyOS0yLjc1OC0yLjQyOVYyNS40NzdzMi4wODMtMi4xNSAyLjc1OC0yLjQzYzEuMTI2LS40NzggMS44NTgtLjUxOCAxMi44OS0uNTk3bDUuMjUzLS4wOHoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxMCIgb3BhY2l0eT0iLjI1Ii8%2BPHBhdGggZD0iTTMwLjQ2OSA2NS41MDdzLTIxLjUzLS4xNi0yMi43MS0uNjc3Yy0uNjc3LS4yOC0yLjc2LTIuNDMtMi43Ni0yLjQzVjI1LjQ3OHMyLjA4My0yLjE1MSAyLjc1OC0yLjQzYzEuMTI3LS40NzggMjIuNzEyLS42NzcgMjIuNzEyLS42Nzd6IiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0ibTUzLjYyOCAyMi4zNyA0LjkyMy4wOGMxMS4wMzEuMDggMTEuNzYzLjEyIDEyLjg5LjU5OC42NzQuMjc5IDIuNzU3IDIuNDMgMi43NTcgMi40M3YzNi45MjNzLTIuMDgzIDIuMTUtMi43NTggMi40MjljLTEuMTgyLjUxOC0xLjg1OC41MTgtMTIuODg5LjU5OGwtNC45MjMuMDh6IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMTAiIG9wYWNpdHk9Ii4yNSIvPjxwYXRoIGQ9Ik00OC44OTUgMjIuMzdzMjEuNTg1LjIgMjIuNzEuNjc4Yy42NzYuMjc5IDIuNzU5IDIuNDMgMi43NTkgMi40M3YzNi45MjNzLTIuMDgzIDIuMTUtMi43NTggMi40MjljLTEuMTgyLjUxOC0yMi43MTEuNjc3LTIyLjcxMS42Nzd6IiBmaWxsPSIjZmZmIi8%2BPHBhdGggZD0ibTI5LjI3OCA1LjAwNSAxMC44MzIuMDRjMTAuNTE2LjA4IDEwLjgzNC4xMiAxMS41MTEuNTk2IDIuNDMgMS44NzIgMi4zOSA0Ljk0LS4xNTkgNi42NTItLjc1Ny41MTgtMS4xMTUuNTU3LTQuMzQuNTU3aC0zLjUwNnY2Mi4xNzZoMy40NjVjMy45NDMgMCA0LjkuMzE4IDUuODE1IDEuOTUxIDEuMDM2IDEuODMzLjUxOCAzLjk0NC0xLjI3NSA1LjI1OC0uNjc3LjUxOC0uOTk1LjUxOC0xMS41MS41OThsLTEwLjgzNC4wOC0xLjExNi0uNTU4Yy0xLjE1NS0uNjM4LTIuMTktMi4xNS0yLjE5LTMuMzg2IDAtLjg3NS45OTUtMi42NjggMS43OTItMy4yNjUuNTk3LS40NzggMS4xMTUtLjUxOCA0LjM0Mi0uNTk4bDMuNjY0LS4wOFYxMi44OWwtMy42NjQtLjA4Yy0zLjIyNy0uMDgtMy43NDUtLjExOS00LjM0Mi0uNTk3LS43OTctLjU1OC0xLjc5Mi0yLjM1LTEuNzkyLTMuMjY2IDAtMS4yMzUuOTk1LTIuNzg4IDIuMTktMy4zODZ6IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMTAiIG9wYWNpdHk9Ii4yNSIvPjxwYXRoIGQ9Im0yOS4yNzggNS4wMDUgMTAuODMyLjA0YzEwLjUxNi4wOCAxMC44MzQuMTIgMTEuNTExLjU5NiAyLjQzIDEuODcyIDIuMzkgNC45NC0uMTU5IDYuNjUyLS43NTcuNTE4LTEuMTE1LjU1Ny00LjM0LjU1N2gtMy41MDZ2NjIuMTc2aDMuNDY1YzMuOTQzIDAgNC45LjMxOCA1LjgxNSAxLjk1MSAxLjAzNiAxLjgzMy41MTggMy45NDQtMS4yNzUgNS4yNTgtLjY3Ny41MTgtLjk5NS41MTgtMTEuNTEuNTk4bC0xMC44MzQuMDgtMS4xMTYtLjU1OGMtMS4xNTUtLjYzOC0yLjE5LTIuMTUtMi4xOS0zLjM4NiAwLS44NzUuOTk1LTIuNjY4IDEuNzkyLTMuMjY1LjU5Ny0uNDc4IDEuMTE1LS41MTggNC4zNDItLjU5OGwzLjY2NC0uMDhWMTIuODlsLTMuNjY0LS4wOGMtMy4yMjctLjA4LTMuNzQ1LS4xMTktNC4zNDItLjU5Ny0uNzk3LS41NTgtMS43OTItMi4zNS0xLjc5Mi0zLjI2NiAwLTEuMjM1Ljk5NS0yLjc4OCAyLjE5LTMuMzg2eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg%3D%3D%22%2C%0A%20%20%20%20%20%20color%3A%20%223NS41MzUiIGhlaWdodD0iNzEuNDk3IiB2aWV3Qm94PSIwIDAgNzUuNTM1IDcxLjQ5NyI%2BPHBhdGggZD0iTTIxLjMwNyAyMS40NjJDMjEuMzA3IDEyLjM3IDI4LjY3NyA1IDM3Ljc2OCA1czE2LjQ2MSA3LjM3IDE2LjQ2MSAxNi40NjItNy4zNyAxNi40NjEtMTYuNDYxIDE2LjQ2MS0xNi40NjEtNy4zNy0xNi40NjEtMTYuNDYxeiIgc3Ryb2tlPSIjMDAwIiBvcGFjaXR5PSIuMjUiIHN0cm9rZS13aWR0aD0iMTAiLz48cGF0aCBkPSJNNSA1MC4wMzZjMC05LjA5MSA3LjM3LTE2LjQ2MSAxNi40NjItMTYuNDYxczE2LjQ2MSA3LjM3IDE2LjQ2MSAxNi40NjFjMCA5LjA5Mi03LjM3IDE2LjQ2Mi0xNi40NjEgMTYuNDYyQzEyLjM3IDY2LjQ5OCA1IDU5LjEyOCA1IDUwLjAzNnoiIHN0cm9rZT0iIzAwMCIgb3BhY2l0eT0iLjI1IiBzdHJva2Utd2lkdGg9IjEwIi8%2BPHBhdGggZD0iTTM3LjYxMyA1MC4wMzZjMC05LjA5MSA3LjM3LTE2LjQ2MSAxNi40NjEtMTYuNDYxIDkuMDkyIDAgMTYuNDYyIDcuMzcgMTYuNDYyIDE2LjQ2MSAwIDkuMDkyLTcuMzcgMTYuNDYyLTE2LjQ2MiAxNi40NjJzLTE2LjQ2MS03LjM3LTE2LjQ2MS0xNi40NjJ6IiBzdHJva2U9IiMwMDAiIG9wYWNpdHk9Ii4yNSIgc3Ryb2tlLXdpZHRoPSIxMCIvPjxwYXRoIGQ9Ik0yMS4zMDcgMjEuNDYyQzIxLjMwNyAxMi4zNyAyOC42NzcgNSAzNy43NjggNXMxNi40NjEgNy4zNyAxNi40NjEgMTYuNDYyLTcuMzcgMTYuNDYxLTE2LjQ2MSAxNi40NjEtMTYuNDYxLTcuMzctMTYuNDYxLTE2LjQ2MSIgZmlsbD0iIzBmMCIvPjxwYXRoIGQ9Ik01IDUwLjAzNmMwLTkuMDkxIDcuMzctMTYuNDYxIDE2LjQ2Mi0xNi40NjFzMTYuNDYxIDcuMzcgMTYuNDYxIDE2LjQ2MWMwIDkuMDkyLTcuMzcgMTYuNDYyLTE2LjQ2MSAxNi40NjJDMTIuMzcgNjYuNDk4IDUgNTkuMTI4IDUgNTAuMDM2IiBmaWxsPSJyZWQiLz48cGF0aCBkPSJNMzcuNjEzIDUwLjAzNmMwLTkuMDkxIDcuMzctMTYuNDYxIDE2LjQ2MS0xNi40NjEgOS4wOTIgMCAxNi40NjIgNy4zNyAxNi40NjIgMTYuNDYxIDAgOS4wOTItNy4zNyAxNi40NjItMTYuNDYyIDE2LjQ2MnMtMTYuNDYxLTcuMzctMTYuNDYxLTE2LjQ2MiIgZmlsbD0iIzAwZiIvPjwvc3ZnPg%3D%3D%22%2C%0A%20%20%20%20%20%20effect%3A%20%221Ny40NDIiIGhlaWdodD0iNzAuNDUiIHZpZXdCb3g9IjAgMCA1Ny40NDIgNzAuNDUiPjxwYXRoIGQ9Ik01IDQ5LjA0N2MtMy45ODgtOC4xMTctMy45OTYtMTguMjQzLjE1My0yNi40MUM5Ljg0IDEzLjA2MiAxNy43MyA4LjgxOCAyMC45IDcuNDM4YTMxLjQgMzEuNCAwIDAgMSA2LjA3Ni0yLjA4M2wyLjEyLS40NTdjMS41NTgtLjMyIDMuMTEuNjQ2IDMuNDQ3IDIuMTg3LjM0IDEuNTQ1LS42NTEgMy4wNjYtMi4yMTYgMy40MDJsLTIuMDYzLjQ0NWEyNS40IDI1LjQgMCAwIDAtNC45NiAxLjcxNmMtMi4wODMuOTAyLTguOTc0IDQuMzkyLTEyLjk0OSAxMi41MTUtMy4wMTcgNS45MzMtMy45MTcgMTUuMzY2LjgzMiAyMy4xNSA0LjMwMyA3LjQ5OCAxMy4xMTIgMTIuMDk1IDIxLjQ2OCAxMS4zMjEgNy45MDMtLjU2OCAxNS4xNTUtNS44MjggMTcuNjk4LTEyLjc5NSAyLjU4MS02LjU1Mi44NjYtMTMuMjY5LTEuOTY3LTE3LjA1Mi0zLjQxMy00LjY2LTcuNjYtNi4wOTQtOS4zMjgtNi40OTUtLjI0OS0uMDc0LTYuMDg1LTEuODI3LTExLjI0Ljc1NC0yLjIyIDEuMDY0LTUuMDkgMy40NTYtNi42MjggNy4wNS0xLjY2IDMuNzEyLTEuMjMgOC40ODQgMS4wMiAxMS42NTUgMi4yNjMgMy4zOTkgNi41MzIgNS4zMjMgMTAuMjAzIDQuNjcgMy42NTUtLjU3NSA2LjEyNy0zLjI5NCA2LjcxMy01LjY4My42ODktMi41NjgtLjM2OC00LjczOS0xLjE5My01LjUyLTEuNDAxLTEuMzgzLTIuNjExLTEuNDA2LTIuNjYzLTEuNDFhNSA1IDAgMCAwLTEuMDI2LjA1NGMtLjY1NC4yNC0xLjU4Mi43NjQtMS44NTQgMS4zMTYtLjA0OC4wOS0uMTcuMzQuMDY0Ljk2My41NjMgMS40NzctLjE5NyAzLjEzLTEuNjk0IDMuNjg1LTEuNDkuNTU4LTMuMTY3LS4xOTItMy43MzMtMS42NzMtLjkzMS0yLjQ1LS40MTYtNC4zNjguMTgtNS41NDYgMS41NTgtMy4wNjYgNS4xNzYtNC4xNzYgNS41ODUtNC4yOTQuMTg3LS4wNTcuMzg1LS4wOTEuNTgtLjEwOC4zOTgtLjA2IDEuMS0uMTU1IDIuMDUyLS4xMTggMi4xNzguMDI3IDQuNjYgMS4xNjUgNi41NjMgMy4wNDYgMi4yNDYgMi4xMiA0LjAwNiA2LjM4IDIuNzU4IDExLjAxMS0xLjIxNyA0Ljk1Ny01Ljg5NSA5LjA1Ni0xMS4zNTMgOS45MTQtNS44NyAxLjA0Ny0xMi40ODItMS44NDctMTUuOTczLTcuMDk0LTMuMzY1LTQuNzI4LTQuMDA5LTExLjY0Ny0xLjU0OC0xNy4xMzYgMi43LTYuMzIgNy44NTktOS4xOCA5LjM3My05LjkwNyA3LjI3OS0zLjYzNSAxNS4wNTktMS4yMzUgMTUuMzg2LTEuMTM0IDIuMDkzLjQ5NCA3LjkxMyAyLjQ0MyAxMi40MzcgOC42MjUgMy40NzcgNC42NSA2LjI5NyAxMy4zMzcgMi43MTQgMjIuNDMtMy4yNzMgOC45NjItMTIuNTkgMTUuNzctMjIuNjM4IDE2LjQ5My0uNzg4LjA3NC0xLjU4NS4xMTUtMi4zOC4xMTUtOS43NSAwLTE5LjYyNy01LjYyLTI0LjU4LTE0LjI1IDAgMC0uODIxLTEuNDE4LTEuMTgzLTIuMTUzeiIgc3Ryb2tlPSIjMDAwIiBvcGFjaXR5PSIuMjUiIHN0cm9rZS13aWR0aD0iMTAiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNi4xODIgNTEuMjAxYy01LjEzNC04LjQyLTUuNTUzLTE5LjY1Ny0xLjAzLTI4LjU2NUM5Ljg0IDEzLjA2MiAxNy43MyA4LjgxOCAyMC45IDcuNDM4YTMxLjQgMzEuNCAwIDAgMSA2LjA3Ni0yLjA4M2wyLjEyLS40NTdjMS41NTgtLjMyIDMuMTEuNjQ2IDMuNDQ3IDIuMTg3LjM0IDEuNTQ1LS42NTEgMy4wNjYtMi4yMTYgMy40MDJsLTIuMDYzLjQ0NWEyNS40IDI1LjQgMCAwIDAtNC45NiAxLjcxNmMtMi4wODMuOTAyLTguOTc0IDQuMzkyLTEyLjk0OSAxMi41MTUtMy4wMTcgNS45MzMtMy45MTcgMTUuMzY2LjgzMiAyMy4xNSA0LjMwMyA3LjQ5OCAxMy4xMTIgMTIuMDk1IDIxLjQ2OCAxMS4zMjEgNy45MDMtLjU2OCAxNS4xNTUtNS44MjggMTcuNjk4LTEyLjc5NSAyLjU4MS02LjU1Mi44NjYtMTMuMjY5LTEuOTY3LTE3LjA1Mi0zLjQxMy00LjY2LTcuNjYtNi4wOTQtOS4zMjgtNi40OTUtLjI0OS0uMDc0LTYuMDg1LTEuODI3LTExLjI0Ljc1NC0yLjIyIDEuMDY0LTUuMDkgMy40NTYtNi42MjggNy4wNS0xLjY2IDMuNzEyLTEuMjMgOC40ODQgMS4wMiAxMS42NTUgMi4yNjMgMy4zOTkgNi41MzIgNS4zMjMgMTAuMjAzIDQuNjcgMy42NTUtLjU3NSA2LjEyNy0zLjI5NCA2LjcxMy01LjY4My42ODktMi41NjgtLjM2OC00LjczOS0xLjE5My01LjUyLTEuNDAxLTEuMzgzLTIuNjExLTEuNDA2LTIuNjYzLTEuNDFhNSA1IDAgMCAwLTEuMDI2LjA1NGMtLjY1NC4yNC0xLjU4Mi43NjQtMS44NTQgMS4zMTYtLjA0OC4wOS0uMTcuMzQuMDY0Ljk2My41NjMgMS40NzctLjE5NyAzLjEzLTEuNjk0IDMuNjg1LTEuNDkuNTU4LTMuMTY3LS4xOTItMy43MzMtMS42NzMtLjkzMS0yLjQ1LS40MTYtNC4zNjguMTgtNS41NDYgMS41NTgtMy4wNjYgNS4xNzYtNC4xNzYgNS41ODUtNC4yOTQuMTg3LS4wNTcuMzg1LS4wOTEuNTgtLjEwOC4zOTgtLjA2IDEuMS0uMTU1IDIuMDUyLS4xMTggMi4xNzguMDI3IDQuNjYgMS4xNjUgNi41NjMgMy4wNDYgMi4yNDYgMi4xMiA0LjAwNiA2LjM4IDIuNzU4IDExLjAxMS0xLjIxNyA0Ljk1Ny01Ljg5NSA5LjA1Ni0xMS4zNTMgOS45MTQtNS44NyAxLjA0Ny0xMi40ODItMS44NDctMTUuOTczLTcuMDk0LTMuMzY1LTQuNzI4LTQuMDA5LTExLjY0Ny0xLjU0OC0xNy4xMzYgMi43LTYuMzIgNy44NTktOS4xOCA5LjM3My05LjkwNyA3LjI3OS0zLjYzNSAxNS4wNTktMS4yMzUgMTUuMzg2LTEuMTM0IDIuMDkzLjQ5NCA3LjkxMyAyLjQ0MyAxMi40MzcgOC42MjUgMy40NzcgNC42NSA2LjI5NyAxMy4zMzcgMi43MTQgMjIuNDMtMy4yNzMgOC45NjItMTIuNTkgMTUuNzctMjIuNjM4IDE2LjQ5My0uNzg4LjA3NC0xLjU4NS4xMTUtMi4zOC4xMTUtOS43NSAwLTE5LjYyNy01LjYyLTI0LjU4LTE0LjI1Ii8%2BPC9zdmc%2B%22%0A%20%20%20%20%7D%5Bname%5D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20Cast%20%3D%20Scratch.Cast%3B%0A%20%20const%20vm%20%3D%20Scratch.vm%3B%0A%20%20const%20runtime%20%3D%20vm.runtime%3B%0A%20%20const%20render%20%3D%20vm.renderer%3B%0A%20%20const%20keyUtil%20%3D%20runtime.ioDevices.keyboard%3B%0A%0A%20%20const%20defaultFonts%20%3D%20%5B%0A%20%20%20%20%22Sans%20Serif%22%2C%20%22Serif%22%2C%20%22Handwriting%22%2C%0A%20%20%20%20%22Marker%22%2C%20%22Curly%22%2C%20%22Pixel%22%2C%20%22Scratch%22%0A%20%20%5D%3B%0A%20%20const%20translatedInputs%20%3D%20%7B%0A%20%20%20%20popup%3A%20Scratch.translate(%22default-popup%22)%2C%0A%20%20%20%20label%3A%20Scratch.translate(%22new-label%22)%2C%0A%20%20%20%20input%3A%20Scratch.translate(%22new-input%22)%2C%0A%20%20%20%20btnRow%3A%20Scratch.translate(%22default-button-row%22)%2C%0A%20%20%20%20button%3A%20Scratch.translate(%22submit-button%22)%0A%20%20%7D%3B%0A%0A%20%20const%20validInputs%20%3D%20%5B%0A%20%20%20%20createMenuItem(%22text%22%2C%20%22text%22)%2C%0A%20%20%20%20createMenuItem(%22multi-line%20text%22%2C%20%22textarea%22)%2C%0A%20%20%20%20createMenuItem(%22password%22%2C%20%22password%22)%2C%0A%20%20%20%20createMenuItem(%22number%22%2C%20%22number%22)%2C%0A%20%20%20%20createMenuItem(%22color%22%2C%20%22color%22)%2C%0A%20%20%20%20createMenuItem(%22date%22%2C%20%22date%22)%2C%0A%20%20%20%20createMenuItem(%22dropdown%22%2C%20%22select%22)%2C%0A%20%20%20%20createMenuItem(%22multi-select%20dropdown%22%2C%20%22multiSelect%22)%2C%0A%20%20%20%20createMenuItem(%22horizontal%20slider%22%2C%20%22rangeHorz%22)%2C%0A%20%20%20%20createMenuItem(%22vertical%20slider%22%2C%20%22rangeVert%22)%0A%20%20%5D%3B%0A%20%20const%20validBorders%20%3D%20%5B%0A%20%20%20%20createMenuItem(%22none%22%2C%20%22none%22)%2C%0A%20%20%20%20createMenuItem(%22solid%22%2C%20%22solid%22)%2C%0A%20%20%20%20createMenuItem(%22dotted%22%2C%20%22dotted%22)%2C%0A%20%20%20%20createMenuItem(%22dashed%22%2C%20%22dashed%22)%2C%0A%20%20%20%20createMenuItem(%22double%22%2C%20%22double%22)%2C%0A%20%20%20%20createMenuItem(%22groove%22%2C%20%22groove%22)%2C%0A%20%20%20%20createMenuItem(%22ridge%22%2C%20%22ridge%22)%2C%0A%20%20%20%20createMenuItem(%22inset%22%2C%20%22inset%22)%2C%0A%20%20%20%20createMenuItem(%22outset%22%2C%20%22outset%22)%0A%20%20%5D%3B%0A%20%20const%20validEffects%20%3D%20%5B%0A%20%20%20%20createMenuItem(%22blur%22%2C%20%22blur%22)%2C%0A%20%20%20%20createMenuItem(%22brightness%22%2C%20%22brightness%22)%2C%0A%20%20%20%20createMenuItem(%22opacity%22%2C%20%22opacity%22)%2C%0A%20%20%20%20createMenuItem(%22saturation%22%2C%20%22saturate%22)%2C%0A%20%20%20%20createMenuItem(%22hue%22%2C%20%22hue-rotate%22)%2C%0A%20%20%20%20createMenuItem(%22invert%22%2C%20%22invert%22)%2C%0A%20%20%20%20createMenuItem(%22sepia%22%2C%20%22sepia%22)%2C%0A%20%20%20%20createMenuItem(%22contrast%22%2C%20%22contrast%22)%2C%0A%20%20%20%20createMenuItem(%22direction%22%2C%20%22rotate%22)%2C%0A%20%20%20%20createMenuItem(%22scale%20x%22%2C%20%22scaleX%22)%2C%0A%20%20%20%20createMenuItem(%22scale%20y%22%2C%20%22scaleY%22)%2C%0A%20%20%20%20createMenuItem(%22skew%20x%22%2C%20%22skewX%22)%2C%0A%20%20%20%20createMenuItem(%22skew%20y%22%2C%20%22skewY%22)%0A%20%20%5D%3B%0A%0A%20%20%2F%2F%20internals%0A%20%20const%20styleStorage%20%3D%20%7B%0A%20%20%20%20popups%3A%20Object.create(null)%2C%0A%20%20%20%20labels%3A%20Object.create(null)%2C%0A%20%20%20%20inputs%3A%20Object.create(null)%2C%0A%20%20%20%20buttons%3A%20Object.create(null)%0A%20%20%7D%0A%20%20const%20elementStorage%20%3D%20%7B%0A%20%20%20%20popups%3A%20Object.create(null)%2C%0A%20%20%20%20labels%3A%20Object.create(null)%2C%0A%20%20%20%20inputs%3A%20Object.create(null)%2C%0A%20%20%20%20buttonRows%3A%20Object.create(null)%2C%0A%20%20%20%20buttons%3A%20Object.create(null)%0A%20%20%7D%0A%0A%20%20const%20xmlEscape%20%3D%20function%20(unsafe)%20%7B%0A%20%20%20%20return%20Cast.toString(unsafe).replace(new%20RegExp(%60%5B%3C%3E%26'%22%5D%60%2C%20%22g%22)%2C%20c%20%3D%3E%20%7B%0A%20%20%20%20%20%20switch%20(c)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22%3C%22%3A%20return%20%22%26lt%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%3E%22%3A%20return%20%22%26gt%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%26%22%3A%20return%20%22%26amp%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22'%22%3A%20return%20%22%26apos%3B%22%3B%0A%20%20%20%20%20%20%20%20case%20%22%5C%22%22%3A%20return%20%22%26quot%3B%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createLabel%20%3D%20(id%2C%20text)%20%3D%3E%20%7B%0A%20%20%20%20const%20element%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20element.style.width%20%3D%20%22max-content%22%3B%0A%20%20%20%20const%20label%20%3D%20document.createElement(%22pre%22)%3B%0A%20%20%20%20label.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20label.innerHTML%20%3D%20xmlEscape(text).replace(%2F%5Cn%2Fg%2C%20%22%3Cbr%3E%22)%3B%0A%20%20%20%20label.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22label%22))%3B%0A%0A%20%20%20%20element.appendChild(label)%3B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22label%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20text%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20element%2C%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createInput%20%3D%20(id%2C%20type%2C%20options)%20%3D%3E%20%7B%0A%20%20%20%20const%20inputHolder%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20inputHolder.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20inputHolder.style.width%20%3D%20%22max-content%22%3B%0A%20%20%20%20let%20element%3B%0A%0A%20%20%20%20const%20setElementValue%20%3D%20(value)%20%3D%3E%20%7B%0A%20%20%20%20%20%20inputHolder.setAttribute(%22returnValue%22%2C%20JSON.stringify(value))%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20(type%20%3D%3D%3D%20%22select%22)%20%7B%0A%20%20%20%20%20%20const%20selectors%20%3D%20options.selectors%20%3F%3F%20%5B%22no%20options%20created%22%5D%3B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22select%22)%3B%0A%20%20%20%20%20%20selectors.forEach((option)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20let%20opt%20%3D%20document.createElement(%22option%22)%3B%0A%20%20%20%20%20%20%20%20opt.value%20%3D%20option%3B%20opt.text%20%3D%20option%3B%0A%20%20%20%20%20%20%20%20element.appendChild(opt)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20element.addEventListener(%22focus%22%2C%20()%20%3D%3E%20%7B%20options.menuOpened%20%3D%20true%20%7D)%3B%0A%20%20%20%20%20%20element.addEventListener(%22blur%22%2C%20()%20%3D%3E%20%7B%20options.menuOpened%20%3D%20false%20%7D)%3B%0A%20%20%20%20%20%20element.addEventListener(%22change%22%2C%20(e)%20%3D%3E%20setElementValue(%5Be.target.value%5D))%3B%0A%20%20%20%20%20%20setElementValue(%5Bselectors%5B0%5D%5D)%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22multiSelect%22)%20%7B%0A%20%20%20%20%20%20const%20createOption%20%3D%20(text%2C%20index)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20holder%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20%20%20holder.setAttribute(%22style%22%2C%20%22display%3A%20flex%3B%20padding%3A%205px%3B%20cursor%3A%20pointer%22)%3B%0A%0A%20%20%20%20%20%20%20%20const%20check%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20%20%20%20%20check.type%20%3D%20%22checkbox%22%3B%0A%20%20%20%20%20%20%20%20check.checked%20%3D%20index%20%3D%3D%3D%200%20%3F%20true%20%3A%20false%3B%0A%20%20%20%20%20%20%20%20const%20label%20%3D%20document.createElement(%22pre%22)%3B%0A%20%20%20%20%20%20%20%20label.innerHTML%20%3D%20xmlEscape(text).replace(%2F%5Cn%2Fg%2C%20%22%3Cbr%3E%22)%3B%0A%20%20%20%20%20%20%20%20label.setAttribute(%22style%22%2C%20%22margin%3A0%200%200%205px%3B%20font-family%3A%20inherit%3B%22)%3B%0A%0A%20%20%20%20%20%20%20%20holder.append(check%2C%20label)%3B%0A%20%20%20%20%20%20%20%20return%20holder%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20const%20selectors%20%3D%20options.selectors%20%3F%3F%20%5B%22no%20options%20created%22%5D%3B%0A%20%20%20%20%20%20let%20response%20%3D%20%5Bselectors%5B0%5D%5D%3B%0A%20%20%20%20%20%20options.menuOpened%20%3D%20true%3B%0A%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20const%20optionsDiv%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20optionsDiv.setAttribute(%22style%22%2C%20%22overflow-y%3A%20scroll%3B%20height%3A%20calc(100%25%20-%201px)%3B%22)%3B%0A%20%20%20%20%20%20element.appendChild(optionsDiv)%3B%0A%0A%20%20%20%20%20%20setElementValue(response)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20selectors.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20option%20%3D%20createOption(selectors%5Bi%5D%2C%20i)%3B%0A%20%20%20%20%20%20%20%20optionsDiv.appendChild(option)%3B%0A%0A%20%20%20%20%20%20%20%20option.addEventListener(%22click%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(e.target.tagName%20%3D%3D%3D%20%22PRE%22)%20e.target.parentNode.querySelector(%22input%22).click()%3B%0A%20%20%20%20%20%20%20%20%20%20else%20if%20(e.target.tagName%20%3D%3D%3D%20%22INPUT%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(e.target.checked)%20response.push(selectors%5Bi%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20response.splice(response.indexOf(selectors%5Bi%5D)%2C%201)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setElementValue(response)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22textarea%22)%20%7B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22textarea%22)%3B%0A%20%20%20%20%20%20element.value%20%3D%20options.defaultValue%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%20else%20if%20(type.startsWith(%22range%22))%20%7B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22div%22)%3B%0A%0A%20%20%20%20%20%20const%20counter%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20%20%20counter.setAttribute(%22style%22%2C%20%22text-align%3A%20center%22)%3B%0A%20%20%20%20%20%20counter.innerText%20%3D%20options.defaultValue%20%3F%3F%200%3B%0A%0A%20%20%20%20%20%20const%20range%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20%20%20range.setAttribute(%22style%22%2C%20%22display%3A%20block%3B%20margin%3A%20auto%3B%22)%3B%0A%20%20%20%20%20%20range.type%20%3D%20%22range%22%3B%0A%20%20%20%20%20%20if%20(type.endsWith(%22Vert%22))%20range.style.writingMode%20%3D%20%22sideways-lr%22%3B%0A%0A%20%20%20%20%20%20range.setAttribute(%22max%22%2C%20options.maxV%20%3F%3F%20100)%3B%0A%20%20%20%20%20%20range.setAttribute(%22min%22%2C%20options.minV%20%3F%3F%200)%3B%0A%20%20%20%20%20%20range.value%20%3D%20options.defaultValue%20%3F%3F%200%3B%0A%20%20%20%20%20%20range.addEventListener(%22input%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20value%20%3D%20e.target.value%3B%0A%20%20%20%20%20%20%20%20setElementValue(%5Bvalue%5D)%3B%0A%20%20%20%20%20%20%20%20counter.innerText%20%3D%20value%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20element.append(range%2C%20counter)%3B%0A%20%20%20%20%20%20setElementValue(%5Bcounter.innerText%5D)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20element%20%3D%20document.createElement(%22input%22)%3B%0A%20%20%20%20%20%20element.type%20%3D%20type%3B%0A%20%20%20%20%20%20element.value%20%3D%20options.defaultValue%20%3F%3F%20%22%22%3B%0A%0A%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20%22password%22)%20%7B%0A%20%20%20%20%20%20%20%20element.setAttribute(%22autocomplete%22%2C%20%22off%22)%3B%0A%20%20%20%20%20%20%20%20element.setAttribute(%22name%22%2C%20%60SPpopupPheonixPass-%24%7BMath.random()%7D%60)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22color%22)%20%7B%0A%20%20%20%20%20%20%20%20inputHolder.setAttribute(%22style%22%2C%20%22display%3A%20flex%3B%20justify-content%3A%20center%3B%20width%3A%20100%25%3B%22)%3B%0A%20%20%20%20%20%20%20%20const%20colorStyle%20%3D%20document.createElement(%22style%22)%3B%0A%20%20%20%20%20%20%20%20colorStyle.textContent%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%3A%3A-webkit-color-swatch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20black%20solid%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%3A%3A-moz-color-swatch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20black%20solid%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20input%5Btype%3D%22color%22%5D%3A%3A-webkit-color-swatch-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200px%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20element.append(colorStyle)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20element.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22input%22))%3B%0A%20%20%20%20inputHolder.appendChild(element)%3B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22input%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20type%2C%20options%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20inputHolder%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createButtonRow%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20const%20buttonRow%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20buttonRow.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20buttonRow.style.width%20%3D%20%22max-content%22%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22buttonRow%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20buttons%3A%20%5B%5D%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20buttonRow%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20createButton%20%3D%20(id%2C%20text)%20%3D%3E%20%7B%0A%20%20%20%20const%20element%20%3D%20document.createElement(%22button%22)%3B%0A%20%20%20%20element.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20element.innerHTML%20%3D%20xmlEscape(text).replace(%2F%5Cn%2Fg%2C%20%22%3Cbr%3E%22)%3B%0A%20%20%20%20element.setAttribute(%22returnValue%22%2C%20id)%3B%0A%20%20%20%20element.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22button%22))%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20type%3A%20%22button%22%2C%0A%20%20%20%20%20%20data%3A%20%7B%20id%2C%20text%20%7D%2C%0A%20%20%20%20%20%20DOMelement%3A%20element%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20const%20genDefaultStyles%20%3D%20(id%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20if%20(type.endsWith(%22s%22))%20type%20%3D%20type.substring(0%2C%20type.length%20-%201)%3B%0A%20%20%20%20if%20(type%20%3D%3D%3D%20%22popup%22)%20%7B%0A%20%20%20%20%20%20styleStorage.popups%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22display%22%3A%20%22flex%22%2C%0A%20%20%20%20%20%20%20%20%22flex-direction%22%3A%20%22column%22%2C%0A%20%20%20%20%20%20%20%20%22position%22%3A%20%22absolute%22%2C%0A%20%20%20%20%20%20%20%20%22pointer-events%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22translate(-50%25%2C%20-50%25)%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22left%22%3A%20%22calc(50%25%20%2B%200px)%22%2C%0A%20%20%20%20%20%20%20%20%22top%22%3A%20%22calc(50%25%20%2B%200px)%22%2C%0A%20%20%20%20%20%20%20%20%22width%22%3A%20%22max-content%22%2C%0A%20%20%20%20%20%20%20%20%22height%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22padding%22%3A%20%2215px%22%2C%0A%20%20%20%20%20%20%20%20%22background%22%3A%20%22%23fff%22%2C%0A%20%20%20%20%20%20%20%20%22box-shadow%22%3A%20%22%23000%200px%200px%205px%22%2C%0A%20%20%20%20%20%20%20%20%22border%22%3A%20%221px%20none%20%23000%22%2C%0A%20%20%20%20%20%20%20%20%22border-radius%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22label%22)%20%7B%0A%20%20%20%20%20%20styleStorage.labels%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22font-size%22%3A%20%2214px%22%2C%0A%20%20%20%20%20%20%20%20%22font-family%22%3A%20%22Sans%20Serif%22%2C%0A%20%20%20%20%20%20%20%20%22margin%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22color%22%3A%20%22%23000%22%2C%0A%20%20%20%20%20%20%20%20%22text-shadow%22%3A%20%22none%22%2C%0A%20%20%20%20%20%20%20%20%22-webkit-text-stroke-width%22%3A%20%220px%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22input%22)%20%7B%0A%20%20%20%20%20%20styleStorage.inputs%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22width%22%3A%20%22max-content%22%2C%0A%20%20%20%20%20%20%20%20%22height%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22margin%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22padding%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22border%22%3A%20%221px%20solid%20%23000%22%2C%0A%20%20%20%20%20%20%20%20%22border-radius%22%3A%20%224px%22%2C%0A%20%20%20%20%20%20%20%20%22text-align%22%3A%20%22left%22%2C%0A%20%20%20%20%20%20%20%20%22font-size%22%3A%20%2214px%22%2C%0A%20%20%20%20%20%20%20%20%22font-family%22%3A%20%22Sans%20Serif%22%2C%0A%20%20%20%20%20%20%20%20%22background%22%3A%20%22%23a5aec3%22%2C%0A%20%20%20%20%20%20%20%20%22accent-color%22%3A%20%22%239f50d9%22%2C%0A%20%20%20%20%20%20%20%20%22color%22%3A%20%22%23000%22%2C%0A%20%20%20%20%20%20%20%20%22text-shadow%22%3A%20%22none%22%2C%0A%20%20%20%20%20%20%20%20%22-webkit-text-stroke-width%22%3A%20%220px%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20%22button%22)%20%7B%0A%20%20%20%20%20%20styleStorage.buttons%5Bid%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20SPstorage%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%22width%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22height%22%3A%20%22auto%22%2C%0A%20%20%20%20%20%20%20%20%22cursor%22%3A%20%22pointer%22%2C%0A%20%20%20%20%20%20%20%20%22margin%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22padding%22%3A%20%225px%2010px%22%2C%0A%20%20%20%20%20%20%20%20%22border-radius%22%3A%20%225px%22%2C%0A%20%20%20%20%20%20%20%20%22border%22%3A%20%221px%20none%20%23fff%22%2C%0A%20%20%20%20%20%20%20%20%22background%22%3A%20%22%230074d9%22%2C%0A%20%20%20%20%20%20%20%20%22font-size%22%3A%20%2214px%22%2C%0A%20%20%20%20%20%20%20%20%22font-family%22%3A%20%22Sans%20Serif%22%2C%0A%20%20%20%20%20%20%20%20%22color%22%3A%20%22%23fff%22%2C%0A%20%20%20%20%20%20%20%20%22text-shadow%22%3A%20%22none%22%2C%0A%20%20%20%20%20%20%20%20%22-webkit-text-stroke-width%22%3A%20%220px%22%2C%0A%20%20%20%20%20%20%20%20%22transform%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%22filter%22%3A%20%22%22%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20styleStorage%5Btype%20%2B%20%22s%22%5D%5Bid%5D%3B%0A%20%20%7D%0A%0A%20%20const%20genDefaultBox%20%3D%20(id%2C%20optEmptyElements)%20%3D%3E%20%7B%0A%20%20%20%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20const%20defaultElements%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20submitBtn%2C%20cancelBtn%3B%0A%20%20%20%20if%20(!optEmptyElements)%20%7B%0A%20%20%20%20%20%20defaultElements.push(createLabel(%22default-label%22%2C%20Scratch.translate(%22Whats%20Your%20Name%3F%22)))%3B%0A%20%20%20%20%20%20defaultElements.push(createInput(%0A%20%20%20%20%20%20%20%20%22default-input%22%2C%20%22text%22%2C%0A%20%20%20%20%20%20%20%20%7B%20defaultValue%3A%20Scratch.translate(%22...type%20your%20name%22)%20%7D%0A%20%20%20%20%20%20))%3B%0A%0A%20%20%20%20%20%20const%20buttonRow%20%3D%20createButtonRow(%22default-button-row%22)%3B%0A%20%20%20%20%20%20submitBtn%20%3D%20createButton(%22submit-button%22%2C%20Scratch.translate(%22Submit%22))%3B%0A%20%20%20%20%20%20cancelBtn%20%3D%20createButton(%22cancel-button%22%2C%20Scratch.translate(%22Cancel%22))%3B%0A%20%20%20%20%20%20buttonRow.data.buttons.push(submitBtn.data%2C%20cancelBtn.data)%3B%0A%20%20%20%20%20%20buttonRow.DOMelement.append(submitBtn.DOMelement%2C%20cancelBtn.DOMelement)%3B%0A%20%20%20%20%20%20defaultElements.push(buttonRow)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20defaultBox%20%3D%20%7B%0A%20%20%20%20%20%20waiting%3A%20false%2C%0A%20%20%20%20%20%20isWindowed%3A%20false%2C%0A%20%20%20%20%20%20focused%3A%20false%2C%0A%20%20%20%20%20%20autoControl%3A%20true%2C%0A%20%20%20%20%20%20forceKey%3A%20undefined%2C%0A%20%20%20%20%20%20lastBtnPressed%3A%20undefined%2C%0A%20%20%20%20%20%20value%3A%20undefined%2C%0A%20%20%20%20%20%20DOMelement%3A%20undefined%2C%0A%20%20%20%20%20%20elements%3A%20defaultElements%0A%20%20%20%20%7D%3B%0A%20%20%20%20if%20(!optEmptyElements)%20%7B%0A%20%20%20%20%20%20elementStorage.labels%5B%22default-label%22%5D%20%3D%20defaultElements%5B0%5D%3B%0A%20%20%20%20%20%20elementStorage.inputs%5B%22default-input%22%5D%20%3D%20defaultElements%5B1%5D%3B%0A%20%20%20%20%20%20elementStorage.buttons%5B%22submit-button%22%5D%20%3D%20submitBtn%3B%0A%20%20%20%20%20%20elementStorage.buttons%5B%22cancel-button%22%5D%20%3D%20cancelBtn%3B%0A%20%20%20%20%20%20elementStorage.buttonRows%5B%22default-button-row%22%5D%20%3D%20defaultElements%5B2%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20elementStorage.popups%5Bid%5D%20%3D%20defaultBox%3B%0A%20%20%20%20return%20defaultBox%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20popup%20box%20GUI%0A%20%20const%20compileStyles%20%3D%20(id%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage%5Btype%20%2B%20%22s%22%5D%5Bid%5D%3B%0A%20%20%20%20const%20styleObj%20%3D%20styleStorage%5Btype%20%2B%20%22s%22%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20type)%3B%0A%20%20%20%20if%20(type%20%3D%3D%3D%20%22input%22%20%26%26%20boxInfo%3F.data.type%20%3D%3D%3D%20%22color%22)%20%7B%0A%20%20%20%20%20%20%2F%2F%20color%20inputs%20with%20these%20options%20look%20weird%0A%20%20%20%20%20%20if%20(styleObj%5B%22width%22%5D%20%3D%3D%3D%20%22max-content%22)%20styleObj%5B%22width%22%5D%20%3D%20%2280%25%22%3B%0A%20%20%20%20%20%20if%20(styleObj%5B%22height%22%5D%20%3D%3D%3D%20%22auto%22)styleObj%5B%22height%22%5D%20%3D%20%2230px%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20styleString%20%3D%20%22%22%3B%0A%20%20%20%20Object.entries(styleObj).forEach((style)%20%3D%3E%20%7B%0A%20%20%20%20%20%20styleString%20%2B%3D%20%60%24%7Bstyle%5B0%5D%7D%3A%20%24%7Bstyle%5B1%5D%7D%3B%60%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20styleString%3B%0A%20%20%7D%3B%0A%0A%20%20const%20compileBox%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20boxInfo.waiting%20%3D%20true%3B%0A%20%20%20%20let%20boxInputs%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20const%20popupContainer%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20popupContainer.setAttribute(%22style%22%2C%20%22position%3A%20fixed%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%22)%3B%0A%20%20%20%20popupContainer.style.pointerEvents%20%3D%20boxInfo.focused%20%3F%20%22auto%22%20%3A%20%22none%22%3B%20%0A%20%20%20%20if%20(boxInfo.focused)%20popupContainer.style.backgroundColor%20%3D%20%22rgba(0%2C0%2C0%2C0.5)%22%3B%0A%20%20%20%20if%20(boxInfo.isWindowed)%20popupContainer.style.zIndex%20%3D%20%229999%22%3B%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20popupContainer.style.left%20%3D%20%22-50%25%22%3B%0A%20%20%20%20%20%20popupContainer.style.top%20%3D%20%22-50%25%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20popupPanel%20%3D%20document.createElement(%22div%22)%3B%0A%20%20%20%20popupPanel.classList.add(%22SP-Popup-Box%22)%3B%0A%20%20%20%20popupPanel.id%20%3D%20xmlEscape(id)%3B%0A%20%20%20%20popupPanel.setAttribute(%22style%22%2C%20compileStyles(id%2C%20%22popup%22))%3B%0A%0A%20%20%20%20%2F%2F%20various%20element%20utils%0A%20%20%20%20const%20handleClose%20%3D%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20if%20theres%20no%20input%2C%20set%20the%20value%20to%20the%20button%20name%0A%20%20%20%20%20%20if%20(event)%20boxInfo.lastBtnPressed%20%3D%20event.target.getAttribute(%22returnValue%22)%3B%0A%20%20%20%20%20%20if%20(boxInputs.length%20%3D%3D%3D%200)%20boxInfo.value%20%3D%20boxInfo.lastBtnPressed%20%3F%3F%20%22%22%3B%0A%20%20%20%20%20%20else%20compileInputValues()%3B%0A%20%20%20%20%20%20runtime.off(%22KEY_PRESSED%22%2C%20forceKeyHandler)%3B%0A%20%20%20%20%20%20closeBox(id)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20const%20forceKeyHandler%20%3D%20(key)%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(boxInfo.forceKey%20%3D%3D%3D%20%22shiftEnter%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(key%20%3D%3D%3D%20%22enter%22%20%26%26%20runtime.ioDevices.keyboard.getKeyIsDown(%22shift%22))%20handleClose()%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20(key.toLowerCase()%20%3D%3D%20boxInfo.forceKey.toLowerCase())%20handleClose()%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20const%20compileInputValues%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(boxInputs.length%20%3D%3D%3D%200)%20boxInfo.value%20%3D%20%22%22%3B%0A%20%20%20%20%20%20else%20if%20(boxInputs.length%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20const%20input%20%3D%20boxInputs%5B0%5D%3B%0A%20%20%20%20%20%20%20%20const%20element%20%3D%20input.DOMelement%3B%0A%0A%20%20%20%20%20%20%20%20const%20returnValue%20%3D%20element.getAttribute(%22returnValue%22)%3B%0A%20%20%20%20%20%20%20%20boxInfo.value%20%3D%20returnValue%20%3F%20JSON.parse(returnValue)%20%3A%20element.firstChild.value%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20boxInfo.value%20%3D%20Object.create(null)%3B%0A%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20boxInputs.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20boxInputs%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20const%20element%20%3D%20input.DOMelement%3B%0A%0A%20%20%20%20%20%20%20%20%20%20const%20returnValue%20%3D%20element.getAttribute(%22returnValue%22)%3B%0A%20%20%20%20%20%20%20%20%20%20boxInfo.value%5Binput.data.id%5D%20%3D%20returnValue%20%3F%20JSON.parse(returnValue)%20%3A%20element.firstChild.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20append%20elements%20to%20panel%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20boxInfo.elements.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20item%20%3D%20boxInfo.elements%5Bi%5D%3B%0A%20%20%20%20%20%20let%20element%20%3D%20item.DOMelement%3B%0A%20%20%20%20%20%20if%20(item.type%20%3D%3D%3D%20%22label%22)%20%7B%0A%20%20%20%20%20%20%20%20const%20refreshedLabel%20%3D%20elementStorage.labels%5Bitem.data.id%5D%3B%0A%20%20%20%20%20%20%20%20element%20%3D%20refreshedLabel.DOMelement%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(item.type%20%3D%3D%3D%20%22input%22)%20%7B%0A%20%20%20%20%20%20%20%20boxInputs.push(item)%3B%0A%0A%20%20%20%20%20%20%20%20const%20refreshedInput%20%3D%20elementStorage.inputs%5Bitem.data.id%5D%3B%0A%20%20%20%20%20%20%20%20if%20(!refreshedInput)%20continue%3B%0A%20%20%20%20%20%20%20%20const%20recentData%20%3D%20refreshedInput.data%3B%0A%20%20%20%20%20%20%20%20element%20%3D%20createInput(%0A%20%20%20%20%20%20%20%20%20%20recentData.id%2C%20recentData.type%2C%20recentData.options%0A%20%20%20%20%20%20%20%20).DOMelement%3B%0A%20%20%20%20%20%20%20%20item.DOMelement%20%3D%20element%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20popupPanel.appendChild(element)%0A%0A%20%20%20%20%20%20%2F%2F%20add%20event%20listeners%0A%20%20%20%20%20%20if%20(item.type%20%3D%3D%3D%20%22input%22)%20%7B%0A%20%20%20%20%20%20%20%20element.addEventListener(%22change%22%2C%20compileInputValues)%3B%0A%20%20%20%20%20%20%20%20if%20(boxInfo.forceKey%20!%3D%3D%20undefined)%20element.addEventListener(%22keydown%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(boxInfo.forceKey%20%3D%3D%3D%20keyUtil._keyStringToScratchKey(e.key))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20handleClose()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e.preventDefault()%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(item.type%20%3D%3D%3D%20%22buttonRow%22)%20%7B%0A%20%20%20%20%20%20%20%20element.addEventListener(%22click%22%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(e.target.tagName%20%3D%3D%3D%20%22BUTTON%22)%20handleClose(e)%3B%0A%20%20%20%20%20%20%20%20%20%20e.stopPropagation()%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20popupContainer.appendChild(popupPanel)%3B%0A%20%20%20%20if%20(boxInfo.isWindowed)%20document.body.appendChild(popupContainer)%3B%0A%20%20%20%20else%20render.addOverlay(popupContainer%2C%20%22scale-centered%22)%3B%0A%20%20%20%20compileInputValues()%3B%0A%20%20%20%20boxInfo.DOMelement%20%3D%20popupContainer%3B%0A%0A%20%20%20%20%2F%2F%20extra%20event%20listeners%0A%20%20%20%20if%20(boxInfo.forceKey%20!%3D%3D%20undefined)%20runtime.on(%22KEY_PRESSED%22%2C%20forceKeyHandler)%3B%0A%20%20%7D%3B%0A%0A%20%20const%20closeBox%20%3D%20(id%2C%20optForce)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20boxInfo.waiting%20%3D%20false%3B%0A%0A%20%20%20%20if%20(optForce%20%7C%7C%20boxInfo.autoControl)%20%7B%0A%20%20%20%20%20%20if%20(boxInfo.isWindowed)%20boxInfo.DOMelement%3F.remove()%3B%0A%20%20%20%20%20%20else%20render.removeOverlay(boxInfo.DOMelement)%3B%0A%20%20%20%20%20%20boxInfo.DOMelement%20%3D%20undefined%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20const%20updateBoxVisuals%20%3D%20(id%2C%20type)%20%3D%3E%20%7B%0A%20%20%20%20const%20boxInfo%20%3D%20elementStorage%5Btype%5D%5Bid%5D%3B%0A%20%20%20%20if%20(!boxInfo%20%7C%7C%20!boxInfo.DOMelement)%20return%3B%0A%20%20%20%20const%20element%20%3D%20type%20%3D%3D%3D%20%22buttons%22%20%3F%20boxInfo.DOMelement%20%3A%20boxInfo.DOMelement.firstChild%3B%0A%20%20%20%20element.setAttribute(%0A%20%20%20%20%20%20%22style%22%2C%20%0A%20%20%20%20%20%20compileStyles(id%2C%20type.slice(0%2C%20type.length%20-%201))%0A%20%20%20%20)%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20extension%20utilities%0A%20%20function%20createBlockLabel(text)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.LABEL%2C%20text%3A%20Scratch.translate(text)%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20function%20createMenuItem(text%2C%20value)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20text%3A%20Scratch.translate(text)%2C%20value%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20genDefaultBox(%22default-popup%22%2C%20false)%3B%0A%0A%20%20class%20SPpopups%20%7B%0A%20%20%20%20constructor()%20%7B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_START%22%2C%20()%20%3D%3E%20this.removeAllPopups())%3B%0A%20%20%20%20%20%20runtime.on(%22PROJECT_STOP_ALL%22%2C%20()%20%3D%3E%20this.removeAllPopups())%3B%0A%20%20%20%20%7D%0A%20%20%20%20getInfo()%20%7B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20id%3A%20%22SPpopups%22%2C%0A%20%20%20%20%20%20%20%20name%3A%20Scratch.translate(%22Popup%20Phoenix%22)%2C%0A%20%20%20%20%20%20%20%20color1%3A%20%22%23a812ff%22%2C%0A%20%20%20%20%20%20%20%20color2%3A%20%22%23941cd9%22%2C%0A%20%20%20%20%20%20%20%20color3%3A%20%22%238219bf%22%2C%0A%20%20%20%20%20%20%20%20menuIconURI%2C%0A%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22main%22)%2C%0A%20%20%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22showPopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20popup%20with%20ID%20%5BID%5D%20and%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22AWAITS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22showPopupReport%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20popup%20with%20ID%20%5BID%5D%20and%20wait%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22userInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22response%20from%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removePopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeAllPopups%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20all%20popups%22)%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Popups%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22new-popup%22)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20popup%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22append2Popup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22append%20%5BTYPE%5D%20with%20ID%20%5BELEMENT_ID%5D%20to%20popup%20%5BPOP_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_ELEMENTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20POP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeFromPopup%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20%5BTYPE%5D%20with%20ID%20%5BELEMENT_ID%5D%20from%20popup%20%5BPOP_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_ELEMENTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20POP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removePopupContent%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20all%20elements%20from%20popup%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPopupPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20position%20of%20%5BID%5D%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getPos%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BTYPE%5D%20position%20of%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POSITION%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Labels%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopLabel%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20label%20with%20ID%20%5BID%5D%20and%20text%20%5BTEXT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22whats%20your%20name%3F%22)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopLabel%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20label%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Inputs%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20%5BTYPE%5D%20input%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22INPUTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20input%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDefaultValue%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20default%20value%20of%20input%20%5BID%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%60...type%20here%60)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setSliderParams%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20slider%20%5BID%5D%20min%20%5BMIN%5D%20max%20%5BMAX%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MIN%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20-100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20MAX%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%20100%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setDropOptions%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20options%20of%20dropdown%20%5BID%5D%20to%20%5BARRAY%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ARRAY%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%60%5B%22Option%201%22%2C%20%22Option%202%22%2C%20%22Option%203%22%5D%60)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22isDropOpen%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20dropdown%20%5BDROP_ID%5D%20in%20popup%20%5BPOP_ID%5D%20open%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20DROP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20POP_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Buttons%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createBtnRow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20button%20row%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22createPopBtn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22create%20new%20button%20with%20ID%20%5BID%5D%20and%20text%20%5BTEXT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TEXT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20Scratch.translate(%22Submit%22)%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deleteBtnRow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20button%20row%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22deletePopBtn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22delete%20button%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22append2Row%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22append%20button%20%5BBTN_ID%5D%20to%20row%20%5BROW_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BTN_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROW_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeFromRow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20button%20%5BBTN_ID%5D%20from%20row%20%5BROW_ID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BTN_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.button%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ROW_ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22removeRowContent%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22remove%20all%20buttons%20from%20row%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.btnRow%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Operators%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22allElements%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22all%20%5BTYPE%5D%20IDs%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_SELECT%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22popupWaiting%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.BOOLEAN%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22is%20popup%20%5BID%5D%20waiting%3F%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22lastButtonPress%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22last%20button%20pressed%20in%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22focusInput%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22focus%20on%20input%20with%20ID%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPopupTarget%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22show%20next%20popup%20with%20ID%20%5BID%5D%20on%20the%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POPUP_LOCATION%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22toggleOption%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22toggle%20%5BOPTION%5D%20in%20popup%20%5BID%5D%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20OPTION%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EXTRA_OPTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22TOGGLER%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setForceClose%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20auto-close%20action%20in%20popup%20%5BID%5D%20to%20%5BKEY%5D%20key%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20KEY%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22FORCE_KEY%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20createBlockLabel(%22Customization%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setPopupAlign%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20alignment%20of%20popup%20%5BID%5D%20to%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALIGNMENT%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setInputAlign%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20alignment%20of%20input%20%5BID%5D%20to%20%5BTYPE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.input%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22ALIGNMENT%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setInputFont%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20font%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BFONT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20FONT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22FONTS%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setInputFontSZ%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20font%20size%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BSIZE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20SIZE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%2015%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementOutline%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20text%20outline%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20color%20%5BCOLOR%5D%20weight%20%5BWEIGHT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.label%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WEIGHT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementAtt%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BPARAM%5D%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20PARAM%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22POP_STYLES%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20%22%23ff0000%22%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementBorder%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20border%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BTYPE%5D%20%5BCOLOR%5D%20weight%20%5BWEIGHT%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20TYPE%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22BORDERS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20WEIGHT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementShadow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22color%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20shadow%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20x%3A%20%5BX%5D%20y%3A%20%5BY%5D%20color%20%5BCOLOR%5D%20blur%20%5BAMT%5D%20strength%20%5BBLUR%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20X%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20COLOR%3A%20%7B%20type%3A%20Scratch.ArgumentType.COLOR%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AMT%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20BLUR%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%22---%22%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22resetElementEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22effect%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22reset%20effects%20of%20%5BELEMENT%5D%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22setElementEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.COMMAND%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22effect%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22set%20%5BEFFECT%5D%20of%20%5BELEMENT%5D%20%5BID%5D%20to%20%5BVALUE%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EFFECTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20VALUE%3A%20%7B%20type%3A%20Scratch.ArgumentType.NUMBER%2C%20defaultValue%3A%205%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getElementEffect%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20blockIconURI%3A%20getBlockIcon(%22effect%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20Scratch.translate(%22%5BEFFECT%5D%20of%20%5BELEMENT%5D%20%5BID%5D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20arguments%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20EFFECT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22EFFECTS%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELEMENT%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20menu%3A%20%22UI_MAIN%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ID%3A%20%7B%20type%3A%20Scratch.ArgumentType.STRING%2C%20defaultValue%3A%20translatedInputs.popup%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20menus%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20FONTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20%22getFonts%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POP_STYLES%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genStyleList()%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20INPUTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20validInputs%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20BORDERS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20validBorders%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20EFFECTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20validEffects%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_ELEMENTS%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(false%2C%20true%2C%20false)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_MAIN%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(true%2C%20false%2C%20true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_MAIN2%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(false%2C%20false%2C%20true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20UI_SELECT%3A%20%7B%20acceptReporters%3A%20true%2C%20items%3A%20this.genElementList(true%2C%20true%2C%20true)%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20AWAITS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22wait%22%2C%20%22wait%22)%2C%20createMenuItem(%22continue%22%2C%20%22continue%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20TOGGLER%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22on%22%2C%20%22on%22)%2C%20createMenuItem(%22off%22%2C%20%22off%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POSITION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22x%22%2C%20%22x%22)%2C%20createMenuItem(%22y%22%2C%20%22y%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20POPUP_LOCATION%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5BcreateMenuItem(%22window%22%2C%20%22window%22)%2C%20createMenuItem(%22canvas%22%2C%20%22canvas%22)%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20ALIGNMENT%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22left%22%2C%20%22left%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22right%22%2C%20%22flex-end%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22center%22%2C%20%22center%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20FORCE_KEY%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22none%22%2C%20%22none%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22enter%22%2C%20%22enter%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22shift%20%26%20enter%22%2C%20%22shiftEnter%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20EXTRA_OPTS%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20acceptReporters%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22focus%20mode%22%2C%20%22focus%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20createMenuItem(%22auto%20close%22%2C%20%22autoClose%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Helper%20Funcs%0A%20%20%20%20getFonts()%20%7B%0A%20%20%20%20%20%20const%20custFonts%20%3D%20runtime.fontManager%20%3F%20runtime.fontManager.getFonts().map((i)%20%3D%3E%20(%7B%20text%3A%20i.name%2C%20value%3A%20i.family%20%7D))%20%3A%20%5B%5D%3B%0A%20%20%20%20%20%20return%20%5B%20...defaultFonts%2C%20...custFonts%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20genElementList(addPopup%2C%20addRow%2C%20addButton)%20%7B%0A%20%20%20%20%20%20const%20list%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%20(addPopup)%20list.push(createMenuItem(%22popup%22%2C%20%22popup%22))%3B%0A%20%20%20%20%20%20list.push(createMenuItem(%22label%22%2C%20%22label%22)%2C%20createMenuItem(%22input%22%2C%20%22input%22))%3B%0A%20%20%20%20%20%20if%20(addRow)%20list.push(createMenuItem(%22button%20row%22%2C%20%22buttonRow%22))%3B%0A%20%20%20%20%20%20if%20(addButton)%20list.push(createMenuItem(%22button%22%2C%20%22button%22))%3B%0A%20%20%20%20%20%20return%20list%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20genStyleList()%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20createMenuItem(%22background%20color%22%2C%20%22background%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22text%20color%22%2C%20%22color%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22accent%20color%22%2C%20%22accent-color%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22margins%22%2C%20%22margin%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22padding%22%2C%20%22padding%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22width%22%2C%20%22width%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22height%22%2C%20%22height%22)%2C%0A%20%20%20%20%20%20%20%20createMenuItem(%22border%20radius%22%2C%20%22border-radius%22)%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getElementPath(path%2C%20useBtn%2C%20usePopup)%20%7B%0A%20%20%20%20%20%20const%20validPaths%20%3D%20%5B%22label%22%2C%20%22input%22%2C%20useBtn%20%3F%20%22button%22%20%3A%20%22buttonRow%22%5D%3B%0A%20%20%20%20%20%20if%20(usePopup)%20validPaths.push(%22popup%22)%3B%0A%20%20%20%20%20%20return%20validPaths.includes(path)%20%3F%20path%20%3A%20%22label%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20openPopupHandler(args%2C%20util%2C%20reportResponse)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(!util.stackFrame.awaitingInput)%20%7B%0A%20%20%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20popup%20%3D%20genDefaultBox(id%2C%20false)%3B%0A%20%20%20%20%20%20%20%20if%20(popup.DOMelement)%20closeBox(id%2C%20true)%3B%0A%20%20%20%20%20%20%20%20compileBox(id)%3B%0A%20%20%20%20%20%20%20%20util.stackFrame.awaitingInput%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20((reportResponse%20%3F%20true%20%3A%20args.TYPE%20%3D%3D%3D%20%22wait%22)%20%26%26%20popup%3F.waiting)%20util.yield()%3B%0A%20%20%20%20%20%20if%20(reportResponse)%20return%20typeof%20popup.value%20%3D%3D%3D%20%22object%22%20%3F%20%0A%20%20%20%20%20%20%20%20JSON.stringify(popup.value)%20%3A%20popup.value%20%7C%7C%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Block%20Funcs%0A%20%20%20%20%2F*%20main%20*%2F%0A%20%20%20%20showPopup(args%2C%20util)%20%7B%0A%20%20%20%20%20%20this.openPopupHandler(args%2C%20util%2C%20false)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20showPopupReport(args%2C%20util)%20%7B%0A%20%20%20%20%20%20return%20this.openPopupHandler(args%2C%20util%2C%20true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20userInput(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20typeof%20popup.value%20%3D%3D%3D%20%22object%22%20%3F%20JSON.stringify(popup.value)%20%3A%20popup.value%20%7C%7C%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removePopup(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20!%3D%3D%20undefined%20%26%26%20popup.DOMelement)%20closeBox(id%2C%20true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeAllPopups()%20%7B%0A%20%20%20%20%20%20const%20allPopups%20%3D%20Object.entries(elementStorage.popups)%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allPopups.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20const%20entry%20%3D%20allPopups%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20if%20(entry%5B1%5D.DOMelement)%20closeBox(entry%5B0%5D%2C%20true)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20popups%20*%2F%0A%20%20%20%20createPopup(args)%20%7B%0A%20%20%20%20%20%20this.removePopup(args)%3B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20genDefaultBox(id%2C%20true)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopup(args)%20%7B%0A%20%20%20%20%20%20this.removePopup(args)%3B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20append2Popup(args)%20%7B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5BCast.toString(args.POP_ID)%5D%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.TYPE))%3B%0A%20%20%20%20%20%20const%20elementID%20%3D%20Cast.toString(args.ELEMENT_ID)%3B%0A%20%20%20%20%20%20const%20element%20%3D%20elementStorage%5Bpath%20%2B%20%22s%22%5D%5BelementID%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined%20%7C%7C%20element%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20elementIndex%20%3D%20popup.elements.findIndex((i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20i.type%20%3D%3D%3D%20path%20%26%26%20i.data.id%20%3D%3D%3D%20elementID%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(elementIndex%20%3D%3D%3D%20-1)%20popup.elements.push(element)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeFromPopup(args)%20%7B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5BCast.toString(args.POP_ID)%5D%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.TYPE))%3B%0A%20%20%20%20%20%20const%20elementID%20%3D%20Cast.toString(args.ELEMENT_ID)%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20elementIndex%20%3D%20popup.elements.findIndex((i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20i.type%20%3D%3D%3D%20path%20%26%26%20i.data.id%20%3D%3D%3D%20elementID%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(elementIndex%20%3E%20-1)%20popup.elements.splice(elementIndex%2C%201)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removePopupContent(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20!%3D%3D%20undefined)%20popup.elements%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setPopupPos(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.popups%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20%20%20styles.left%20%3D%20%60calc(50%25%20%2B%20%24%7BCast.toNumber(args.X)%7Dpx)%60%3B%0A%20%20%20%20%20%20styles.top%20%3D%20%60calc(50%25%20%2B%20%24%7BCast.toNumber(args.Y)%20*%20-1%7Dpx)%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20%22popups%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getPos(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.popups%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20%20%20if%20(args.TYPE%20%3D%3D%3D%20%22x%22)%20return%20parseFloat(styles.left.replace(%22calc(50%25%20%2B%20%22%2C%20%22%22))%3B%0A%20%20%20%20%20%20else%20return%20parseFloat(styles.top.replace(%22calc(50%25%20%2B%20%22%2C%20%22%22))%20*%20-1%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20labels%20*%2F%0A%20%20%20%20createPopLabel(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20text%20%3D%20Cast.toString(args.TEXT)%3B%0A%20%20%20%20%20%20elementStorage.labels%5Bid%5D%20%3D%20createLabel(id%2C%20text)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopLabel(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.labels%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.labels%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20inputs%20*%2F%0A%20%20%20%20createPopInput(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20type%20%3D%20Cast.toString(args.TYPE)%3B%0A%0A%20%20%20%20%20%20const%20isValidInput%20%3D%20validInputs.findIndex((i)%20%3D%3E%20i.value%20%3D%3D%3D%20type)%3B%0A%20%20%20%20%20%20if%20(isValidInput%20%3D%3D%3D%20-1)%20type%20%3D%20%22text%22%3B%0A%20%20%20%20%20%20elementStorage.inputs%5Bid%5D%20%3D%20createInput(id%2C%20type%2C%20%7B%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopInput(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDefaultValue(args)%20%7B%0A%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(input)%20input.data.options.defaultValue%20%3D%20Cast.toString(args.VALUE)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setSliderParams(args)%20%7B%0A%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(input)%20%7B%0A%20%20%20%20%20%20%20%20input.data.options.minV%20%3D%20Cast.toNumber(args.MIN)%3B%0A%20%20%20%20%20%20%20%20input.data.options.maxV%20%3D%20Cast.toNumber(args.MAX)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20setDropOptions(args)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20array%20%3D%20JSON.parse(args.ARRAY)%3B%0A%20%20%20%20%20%20%20%20if%20(array.length%20%3D%3D%3D%200)%20array.push(%22no%20options%20created%22)%3B%0A%20%20%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%20%20%20%20if%20(input)%20input.data.options.selectors%20%3D%20array%3B%0A%20%20%20%20%20%20%7D%20catch%20%7B%0A%20%20%20%20%20%20%20%20console.warn(%22Failed%20to%20set%20Dropdown%20Options%2C%20invalid%20Array!%22)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20isDropOpen(args)%20%7B%0A%20%20%20%20%20%20const%20popup%20%3D%20elementStorage.popups%5BCast.toString(args.POP_ID)%5D%3B%0A%20%20%20%20%20%20const%20dropID%20%3D%20Cast.toString(args.DROP_ID)%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined%20%7C%7C%20!popup.waiting)%20return%20false%3B%0A%20%20%20%20%20%20const%20dropdown%20%3D%20popup.elements.find((e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20e.type%20%3D%3D%3D%20%22input%22%20%26%26%20e.data.id%20%3D%3D%3D%20dropID%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20if%20(dropdown)%20return%20dropdown.data.options.menuOpened%20%3F%3F%20false%3B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20buttons%20*%2F%0A%20%20%20%20createBtnRow(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20elementStorage.buttonRows%5Bid%5D%20%3D%20createButtonRow(id)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20createPopBtn(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20text%20%3D%20Cast.toString(args.TEXT)%3B%0A%20%20%20%20%20%20elementStorage.buttons%5Bid%5D%20%3D%20createButton(id%2C%20text)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deleteBtnRow(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20elementStorage.buttonRows%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20deletePopBtn(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20delete%20styleStorage.buttons%5Bid%5D%3B%0A%20%20%20%20%20%20delete%20elementStorage.buttons%5Bid%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20append2Row(args)%20%7B%0A%20%20%20%20%20%20const%20btn%20%3D%20elementStorage.buttons%5BCast.toString(args.BTN_ID)%5D%3B%0A%20%20%20%20%20%20const%20row%20%3D%20elementStorage.buttonRows%5BCast.toString(args.ROW_ID)%5D%3B%0A%20%20%20%20%20%20if%20(row%20%3D%3D%3D%20undefined%20%7C%7C%20btn%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20btnList%20%3D%20row.data.buttons%3B%0A%20%20%20%20%20%20const%20btnIndex%20%3D%20btnList.findIndex((i)%20%3D%3E%20i.id%20%3D%3D%3D%20btn.data.id)%3B%0A%20%20%20%20%20%20if%20(btnIndex%20%3E%20-1)%20return%3B%0A%20%20%20%20%20%20btnList.push(btn.data)%3B%0A%20%20%20%20%20%20row.DOMelement.appendChild(btn.DOMelement)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeFromRow(args)%20%7B%0A%20%20%20%20%20%20const%20btn%20%3D%20elementStorage.buttons%5BCast.toString(args.BTN_ID)%5D%3B%0A%20%20%20%20%20%20const%20row%20%3D%20elementStorage.buttonRows%5BCast.toString(args.ROW_ID)%5D%3B%0A%20%20%20%20%20%20if%20(row%20%3D%3D%3D%20undefined%20%7C%7C%20btn%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20btnList%20%3D%20row.data.buttons%3B%0A%20%20%20%20%20%20const%20btnIndex%20%3D%20btnList.findIndex((i)%20%3D%3E%20i.id%20%3D%3D%3D%20btn.data.id)%3B%0A%20%20%20%20%20%20if%20(btnIndex%20%3D%3D%3D%20-1)%20return%3B%0A%20%20%20%20%20%20btnList.splice(btnIndex%2C%201)%3B%0A%20%20%20%20%20%20row.DOMelement.children%5BbtnIndex%5D.remove()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20removeRowContent(args)%20%7B%0A%20%20%20%20%20%20const%20row%20%3D%20elementStorage.buttonRows%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(row%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20Array.from(row.DOMelement.children).forEach((button)%20%3D%3E%20button.remove())%3B%0A%20%20%20%20%20%20row.data.buttons%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20operations%20*%2F%0A%20%20%20%20allElements(args)%20%7B%0A%20%20%20%20%20%20const%20namespace%20%3D%20Cast.toString(args.TYPE)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20items%20%3D%20elementStorage%5Bnamespace%5D%3B%0A%20%20%20%20%20%20if%20(!items)%20return%20%22%5B%5D%22%3B%0A%20%20%20%20%20%20else%20return%20JSON.stringify(Object.keys(items))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20popupWaiting(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%20false%3B%0A%20%20%20%20%20%20return%20popup.waiting%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20lastButtonPress(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%20%22%22%3B%0A%20%20%20%20%20%20return%20popup.lastBtnPressed%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20focusInput(args)%20%7B%0A%20%20%20%20%20%20const%20input%20%3D%20elementStorage.inputs%5BCast.toString(args.ID)%5D%3B%0A%20%20%20%20%20%20if%20(input)%20%7B%0A%20%20%20%20%20%20%20%20input.DOMelement.firstChild.focus()%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20setPopupTarget(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%20%20%20%20%20%20popup.isWindowed%20%3D%20args.TYPE%20%3D%3D%3D%20%22window%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20toggleOption(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20option%20%3D%20Cast.toString(args.OPTION)%3B%0A%20%20%20%20%20%20popup%5B%0A%20%20%20%20%20%20%20%20option%20%3D%3D%3D%20%22focus%22%20%3F%20%22focused%22%20%3A%20%22autoControl%22%0A%20%20%20%20%20%20%5D%20%3D%20args.TYPE%20%3D%3D%3D%20%22on%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setForceClose(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20popup%20%3D%20elementStorage.popups%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(popup%20%3D%3D%3D%20undefined)%20return%3B%0A%0A%20%20%20%20%20%20const%20key%20%3D%20Cast.toString(args.KEY)%3B%0A%20%20%20%20%20%20popup.forceKey%20%3D%20key%20%3D%3D%3D%20%22none%22%20%3F%20undefined%20%3A%20key%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F*%20customization%20*%2F%0A%20%20%20%20setPopupAlign(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage.popups%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20%22popup%22)%3B%0A%20%20%20%20%20%20styles%5B%22align-items%22%5D%20%3D%20args.TYPE%3B%0A%20%20%20%20%20%20styles%5B%22justify-content%22%5D%20%3D%20args.TYPE%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20%22popups%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInputAlign(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20let%20isLabel%20%3D%20false%0A%20%20%20%20%20%20let%20styles%20%3D%20styleStorage.inputs%5Bid%5D%3B%0A%20%20%20%20%20%20if%20(!styles)%20%7B%0A%20%20%20%20%20%20%20%20styles%20%3D%20styleStorage.labels%5Bid%5D%3B%0A%20%20%20%20%20%20%20%20if%20(styles)%20isLabel%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20else%20styles%20%3D%20genDefaultStyles(id%2C%20%22input%22)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20styles%5B%22text-align%22%5D%20%3D%20args.TYPE%20%3D%3D%3D%20%22flex-end%22%20%3F%20%22right%22%20%3A%20args.TYPE%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20isLabel%20%3F%20%22labels%22%20%3A%20%22inputs%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInputFont(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5B%22font-family%22%5D%20%3D%20Cast.toString(args.FONT)%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setInputFontSZ(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5B%22font-size%22%5D%20%3D%20%60%24%7BCast.toNumber(args.SIZE)%7Dpx%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementOutline(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5B%22-webkit-text-stroke-width%22%5D%20%3D%20%60%24%7BCast.toNumber(args.WEIGHT)%7Dpx%60%3B%0A%20%20%20%20%20%20styles%5B%22-webkit-text-stroke-color%22%5D%20%3D%20args.COLOR%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementAtt(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20param%20%3D%20Cast.toString(args.PARAM)%3B%0A%20%20%20%20%20%20let%20value%20%3D%20Cast.toString(args.VALUE)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20const%20isValidStyle%20%3D%20this.genStyleList().findIndex((i)%20%3D%3E%20i.value%20%3D%3D%3D%20param)%3B%0A%0A%20%20%20%20%20%20if%20(!param.includes(%22color%22)%20%26%26%20param%20!%3D%3D%20%22background%22)%20%7B%0A%20%20%20%20%20%20%20%20if%20(param%20%3D%3D%3D%20%22width%22%20%7C%7C%20param%20%3D%3D%3D%20%22height%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20allow%20users%20to%20input%20things%20like%20%22auto%22%20while%20still%20adding%20%22px%22%20to%20numbers%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%2F%5E%5Cd%2B%24%2F.test(value)%20%3F%20%60%24%7Bvalue%7Dpx%60%20%3A%20value%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20handle%20cases%20where%20users%20to%20input%20specific%20attributes%20like%20%22margin-left%22%0A%20%20%20%20%20%20%20%20%20%20if%20(value.includes(%22%20%22))%20value%20%3D%20%2F%5E%5Cd%2B%24%2F.test(value.replaceAll(%22%20%22%2C%20%22%22))%20%3F%20value.replaceAll(%22%20%22%2C%20%22px%20%22)%20%3A%20value%3B%0A%20%20%20%20%20%20%20%20%20%20else%20value%20%3D%20%60%24%7Bvalue%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(isValidStyle%20%3E%20-1)%20styles%5Bparam%5D%20%3D%20value%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementBorder(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20weight%20%3D%20Cast.toNumber(args.WEIGHT)%3B%0A%20%20%20%20%20%20const%20isBorderValid%20%3D%20validBorders.findIndex((i)%20%3D%3E%20i.value%20%3D%3D%3D%20args.TYPE)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20styles%5Bpath%20%3D%3D%3D%20%22labels%22%20%3F%20%22border-bottom%22%20%3A%20%22border%22%5D%20%3D%20%0A%20%20%20%20%20%20%20%20%60%24%7BisBorderValid%20%3E%20-1%20%3F%20args.TYPE%20%3A%20%22none%22%7D%20%24%7Bargs.COLOR%7D%20%24%7Bweight%7Dpx%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementShadow(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20pos%20%3D%20%5BCast.toNumber(args.X)%2C%20Cast.toNumber(args.Y)%5D%3B%0A%20%20%20%20%20%20const%20weight%20%3D%20%5BCast.toNumber(args.AMT)%2C%20Cast.toNumber(args.BLUR)%5D%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20if%20(path%20%3D%3D%3D%20%22labels%22)%20styles%5B%22text-shadow%22%5D%20%3D%20%60%24%7Bargs.COLOR%7D%20%24%7Bpos%5B0%5D%7Dpx%20%24%7Bpos%5B1%5D%7Dpx%20%24%7Bweight%5B0%5D%7Dpx%60%3B%0A%20%20%20%20%20%20else%20styles%5B%22box-shadow%22%5D%20%3D%20%60%24%7Bargs.COLOR%7D%20%24%7Bpos%5B0%5D%7Dpx%20%24%7Bpos%5B1%5D%7Dpx%20%24%7Bweight%5B0%5D%7Dpx%20%24%7Bweight%5B1%5D%7Dpx%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20resetElementEffect(args)%20%7B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20if%20(path%20%3D%3D%3D%20%22popups%22)%20styles%5B%22transform%22%5D%20%3D%20%22translate(-50%25%2C%20-50%25)%22%3B%0A%20%20%20%20%20%20styles%5B%22filter%22%5D%20%3D%20%22%22%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20setElementEffect(args)%20%7B%0A%20%20%20%20%20%20const%20effect%20%3D%20Cast.toString(args.EFFECT)%3B%0A%20%20%20%20%20%20const%20effectIndex%20%3D%20validEffects.findIndex((i)%20%3D%3E%20i.value%20%3D%3D%3D%20effect)%3B%0A%20%20%20%20%20%20if%20(effectIndex%20%3D%3D%3D%20-1)%20return%3B%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%0A%20%20%20%20%20%20let%20value%20%3D%20Cast.toNumber(args.VALUE)%3B%0A%20%20%20%20%20%20const%20cssTarget%20%3D%20effectIndex%20%3E%207%20%3F%20%22transform%22%20%3A%20%22filter%22%3B%0A%20%20%20%20%20%20const%20regex%20%3D%20new%20RegExp(%60%24%7Beffect%7D%5C%5C((%5B%5E)%5D*)%5C%5C)%60)%3B%0A%20%20%20%20%20%20styles%5B%22SPstorage%22%5D%5Beffect%5D%20%3D%20value%3B%0A%0A%20%20%20%20%20%20switch%20(effect)%20%7B%0A%20%20%20%20%20%20%20%20case%20%22blur%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22px%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22brightness%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%60%24%7B100%20-%20(value%20*%20-1)%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22opacity%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%201%20-%20(value%20%2F%20100)%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22saturate%22%3A%0A%20%20%20%20%20%20%20%20case%20%22sepia%22%3A%0A%20%20%20%20%20%20%20%20case%20%22invert%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22%25%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22hue-rotate%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22deg%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22contrast%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%60%24%7B100%20%2B%20value%7D%25%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22rotate%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20%60%24%7Bvalue%20-%2090%7Ddeg%60%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22scaleX%22%3A%0A%20%20%20%20%20%20%20%20case%20%22scaleY%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2F%3D%20100%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22skewX%22%3A%0A%20%20%20%20%20%20%20%20case%20%22skewY%22%3A%0A%20%20%20%20%20%20%20%20%20%20value%20%2B%3D%20%22deg%22%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20const%20newCSS%20%3D%20styles%5BcssTarget%5D.replace(regex%2C%20%22%22)%3B%0A%20%20%20%20%20%20styles%5BcssTarget%5D%20%3D%20newCSS%20%2B%20%60%24%7Beffect%7D(%24%7Bvalue%7D)%60%3B%0A%20%20%20%20%20%20updateBoxVisuals(id%2C%20path)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20getElementEffect(args)%20%7B%0A%20%20%20%20%20%20const%20effect%20%3D%20Cast.toString(args.EFFECT)%3B%0A%20%20%20%20%20%20const%20isValidEffect%20%3D%20validEffects.findIndex((i)%20%3D%3E%20i.value%20%3D%3D%3D%20effect)%3B%0A%20%20%20%20%20%20if%20(isValidEffect%20%3D%3D%3D%20-1)%20return%20%22%22%3B%0A%0A%20%20%20%20%20%20const%20id%20%3D%20Cast.toString(args.ID)%3B%0A%20%20%20%20%20%20const%20path%20%3D%20this.getElementPath(Cast.toString(args.ELEMENT)%2C%20true%2C%20true)%20%2B%20%22s%22%3B%0A%20%20%20%20%20%20const%20styles%20%3D%20styleStorage%5Bpath%5D%5Bid%5D%20%3F%3F%20genDefaultStyles(id%2C%20path)%3B%0A%20%20%20%20%20%20return%20styles%5B%22SPstorage%22%5D%5Beffect%5D%20%3F%3F%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Scratch.extensions.register(new%20SPpopups())%3B%0A%7D)(Scratch)%3B%0A%20%7D)(Scratch)%3B"]) {
        vm.extensionManager.loadExtensionURL(extension);
      }

      vm.runtime.isProjectPermissionManagerDisabled = true;
      
    } catch (e) {
      handleError(e);
    }
  </script>
  
  
    <script>
      const getProjectData = (function() {
        const storage = scaffolding.storage;
        storage.onprogress = (total, loaded) => {
          setProgress(interpolate(0.2, 0.98, loaded / total));
        };
        
        storage.addWebStore(
          [
            storage.AssetType.ImageVector,
            storage.AssetType.ImageBitmap,
            storage.AssetType.Sound,
            storage.AssetType.Font
          ].filter(i => i),
          (asset) => new URL('./assets/' + asset.assetId + '.' + asset.dataFormat, location).href
        );
        return () => new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.onload = () => {
          resolve(xhr.response);
        };
        xhr.onerror = () => {
          if (location.protocol === 'file:') {
            reject(new Error('Zip environment must be used from a website, not from a file URL.'));
          } else {
            reject(new Error('Request to load project data failed.'));
          }
        };
        xhr.onprogress = (e) => {
          if (e.lengthComputable) {
            setProgress(interpolate(0.1, 0.2, e.loaded / e.total));
          }
        };
        xhr.responseType = 'arraybuffer';
        xhr.open('GET', "./assets/project.json");
        xhr.send();
      });
      })();
    </script>
  <script>
    const run = async () => {
      const projectData = await getProjectData();
      await scaffolding.loadProject(projectData);
      setProgress(1);
      loadingScreen.hidden = true;
      if (false) {
        scaffolding.start();
      } else {
        launchScreen.hidden = false;
        launchScreen.addEventListener('click', () => {
          launchScreen.hidden = true;
          scaffolding.start();
        });
        launchScreen.focus();
      }
    };
    run().catch(handleError);
  </script>
</body>
</html>
